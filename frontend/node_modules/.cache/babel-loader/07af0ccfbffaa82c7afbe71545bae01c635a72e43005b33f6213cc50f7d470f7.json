{"ast":null,"code":"var _jsxFileName = \"/Users/bm/dev/projects/new-navix/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [data, setData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [weatherData, setWeatherData] = useState(null);\n  const [locationError, setLocationError] = useState(null);\n  const [activity, setActivity] = useState(null);\n\n  // Fetch test data from backend\n  useEffect(() => {\n    axios.get('http://127.0.0.1:8000/api/test/').then(response => {\n      setData(response.data);\n      setLoading(false);\n    }).catch(error => {\n      setError(error);\n      setLoading(false);\n    });\n  }, []);\n\n  // Fetch activity suggestion\n  const fetchActivitySuggestion = async (latitude, longitude) => {\n    try {\n      const response = await axios.post('http://127.0.0.1:8000/api/activity-suggestion/', {\n        latitude,\n        longitude,\n        max_activities: 5 // Request 5 activities\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n\n      // Handle multiple activities\n      const activities = response.data.activities;\n      activities.forEach(activity => {\n        console.log(`${activity.activity_name}: ${activity.places.length} places found`);\n      });\n      setActivity(activities);\n    } catch (error) {\n      console.error(\"Failed to fetch activities:\", error);\n    }\n  };\n\n  // Fetch user location, weather, and activity suggestion\n  useEffect(() => {\n    const fetchUserLocation = () => {\n      if (navigator.geolocation) {\n        navigator.geolocation.getCurrentPosition(async position => {\n          const {\n            latitude,\n            longitude\n          } = position.coords;\n          try {\n            // Fetch weather data\n            const weatherResponse = await axios.post('http://127.0.0.1:8000/api/suggestions/', {\n              latitude,\n              longitude\n            }, {\n              headers: {\n                'Content-Type': 'application/x-www-form-urlencoded'\n              }\n            });\n            setWeatherData(weatherResponse.data);\n\n            // Then fetch activity suggestion\n            await fetchActivitySuggestion(latitude, longitude);\n          } catch (err) {\n            setLocationError('Failed to get weather data');\n            console.error(\"API error:\", err);\n          }\n        }, error => {\n          setLocationError('Location access denied');\n          console.error(\"Geolocation error:\", error);\n        });\n      } else {\n        setLocationError('Geolocation not supported');\n      }\n    };\n    fetchUserLocation();\n  }, []);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [\"Error: \", error.message]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 23\n  }, this);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: \"Home\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Routes, {\n        children: /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/\",\n          element: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Welcome to the React Frontend\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Backend Response: \", data === null || data === void 0 ? void 0 : data.message]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 29\n            }, this), locationError ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: 'red',\n                marginTop: '20px'\n              },\n              children: [\"Location Error: \", locationError]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 33\n            }, this) : weatherData ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '20px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                children: \"Weather Information\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 111,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                children: JSON.stringify(weatherData, null, 2)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 37\n              }, this), activity && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: '20px'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                  children: \"Suggested Activity\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 116,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: activity.charAt(0).toUpperCase() + activity.slice(1)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 110,\n              columnNumber: 33\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                marginTop: '20px'\n              },\n              children: \"Loading weather data...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 122,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 101,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 9\n  }, this);\n}\n_s(App, \"VZ4/X3PVGZPb+DUcoK2KIcIocAY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","axios","BrowserRouter","Router","Route","Routes","Link","jsxDEV","_jsxDEV","App","_s","data","setData","loading","setLoading","error","setError","weatherData","setWeatherData","locationError","setLocationError","activity","setActivity","get","then","response","catch","fetchActivitySuggestion","latitude","longitude","post","max_activities","headers","activities","forEach","console","log","activity_name","places","length","fetchUserLocation","navigator","geolocation","getCurrentPosition","position","coords","weatherResponse","err","children","fileName","_jsxFileName","lineNumber","columnNumber","message","to","path","element","style","color","marginTop","JSON","stringify","charAt","toUpperCase","slice","_c","$RefreshReg$"],"sources":["/Users/bm/dev/projects/new-navix/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { BrowserRouter as Router, Route, Routes, Link } from 'react-router-dom';\n\nfunction App() {\n    const [data, setData] = useState(null);\n    const [loading, setLoading] = useState(true);\n    const [error, setError] = useState(null);\n    const [weatherData, setWeatherData] = useState(null);\n    const [locationError, setLocationError] = useState(null);\n    const [activity, setActivity] = useState(null);\n\n    // Fetch test data from backend\n    useEffect(() => {\n        axios.get('http://127.0.0.1:8000/api/test/')\n            .then(response => {\n                setData(response.data);\n                setLoading(false);\n            })\n            .catch(error => {\n                setError(error);\n                setLoading(false);\n            });\n    }, []);\n\n    // Fetch activity suggestion\nconst fetchActivitySuggestion = async (latitude, longitude) => {\n    try {\n        const response = await axios.post(\n            'http://127.0.0.1:8000/api/activity-suggestion/',\n            { \n                latitude, \n                longitude, \n                max_activities: 5  // Request 5 activities\n            },\n            { headers: { 'Content-Type': 'application/json' } }\n        );\n        \n        // Handle multiple activities\n        const activities = response.data.activities;\n        activities.forEach(activity => {\n            console.log(`${activity.activity_name}: ${activity.places.length} places found`);\n        });\n        \n            setActivity(activities);\n        } catch (error) {\n            console.error(\"Failed to fetch activities:\", error);\n        }\n    };\n\n    // Fetch user location, weather, and activity suggestion\n    useEffect(() => {\n        const fetchUserLocation = () => {\n            if (navigator.geolocation) {\n                navigator.geolocation.getCurrentPosition(\n                    async (position) => {\n                        const { latitude, longitude } = position.coords;\n                        try {\n                            // Fetch weather data\n                            const weatherResponse = await axios.post(\n                                'http://127.0.0.1:8000/api/suggestions/', \n                                { latitude, longitude },\n                                { headers: { 'Content-Type': 'application/x-www-form-urlencoded' } }\n                            );\n                            setWeatherData(weatherResponse.data);\n                            \n                            // Then fetch activity suggestion\n                            await fetchActivitySuggestion(latitude, longitude);\n                        } catch (err) {\n                            setLocationError('Failed to get weather data');\n                            console.error(\"API error:\", err);\n                        }\n                    },\n                    (error) => {\n                        setLocationError('Location access denied');\n                        console.error(\"Geolocation error:\", error);\n                    }\n                );\n            } else {\n                setLocationError('Geolocation not supported');\n            }\n        };\n\n        fetchUserLocation();\n    }, []);\n\n    if (loading) return <div>Loading...</div>;\n    if (error) return <div>Error: {error.message}</div>;\n\n    return (\n        <Router>\n            <div>\n                <header>\n                    <nav>\n                        <Link to=\"/\">Home</Link>\n                    </nav>\n                </header>\n\n                <Routes>\n                    <Route path=\"/\" element={\n                        <div>\n                            <h1>Welcome to the React Frontend</h1>\n                            <p>Backend Response: {data?.message}</p>\n                            \n                            {locationError ? (\n                                <div style={{ color: 'red', marginTop: '20px' }}>\n                                    Location Error: {locationError}\n                                </div>\n                            ) : weatherData ? (\n                                <div style={{ marginTop: '20px' }}>\n                                    <h2>Weather Information</h2>\n                                    <pre>{JSON.stringify(weatherData, null, 2)}</pre>\n                                    \n                                    {activity && (\n                                        <div style={{ marginTop: '20px' }}>\n                                            <h2>Suggested Activity</h2>\n                                            <p>{activity.charAt(0).toUpperCase() + activity.slice(1)}</p>\n                                        </div>\n                                    )}\n                                </div>\n                            ) : (\n                                <div style={{ marginTop: '20px' }}>\n                                    Loading weather data...\n                                </div>\n                            )}\n                        </div>\n                    } />\n                </Routes>\n            </div>\n        </Router>\n    );\n}\n\nexport default App;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,aAAa,IAAIC,MAAM,EAAEC,KAAK,EAAEC,MAAM,EAAEC,IAAI,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEhF,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACX,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EACtC,MAAM,CAACc,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACgB,KAAK,EAAEC,QAAQ,CAAC,GAAGjB,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACkB,WAAW,EAAEC,cAAc,CAAC,GAAGnB,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAM,CAACoB,aAAa,EAAEC,gBAAgB,CAAC,GAAGrB,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACsB,QAAQ,EAAEC,WAAW,CAAC,GAAGvB,QAAQ,CAAC,IAAI,CAAC;;EAE9C;EACAC,SAAS,CAAC,MAAM;IACZC,KAAK,CAACsB,GAAG,CAAC,iCAAiC,CAAC,CACvCC,IAAI,CAACC,QAAQ,IAAI;MACdb,OAAO,CAACa,QAAQ,CAACd,IAAI,CAAC;MACtBG,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC,CACDY,KAAK,CAACX,KAAK,IAAI;MACZC,QAAQ,CAACD,KAAK,CAAC;MACfD,UAAU,CAAC,KAAK,CAAC;IACrB,CAAC,CAAC;EACV,CAAC,EAAE,EAAE,CAAC;;EAEN;EACJ,MAAMa,uBAAuB,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,SAAS,KAAK;IAC3D,IAAI;MACA,MAAMJ,QAAQ,GAAG,MAAMxB,KAAK,CAAC6B,IAAI,CAC7B,gDAAgD,EAChD;QACIF,QAAQ;QACRC,SAAS;QACTE,cAAc,EAAE,CAAC,CAAE;MACvB,CAAC,EACD;QAAEC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB;MAAE,CACtD,CAAC;;MAED;MACA,MAAMC,UAAU,GAAGR,QAAQ,CAACd,IAAI,CAACsB,UAAU;MAC3CA,UAAU,CAACC,OAAO,CAACb,QAAQ,IAAI;QAC3Bc,OAAO,CAACC,GAAG,CAAC,GAAGf,QAAQ,CAACgB,aAAa,KAAKhB,QAAQ,CAACiB,MAAM,CAACC,MAAM,eAAe,CAAC;MACpF,CAAC,CAAC;MAEEjB,WAAW,CAACW,UAAU,CAAC;IAC3B,CAAC,CAAC,OAAOlB,KAAK,EAAE;MACZoB,OAAO,CAACpB,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACvD;EACJ,CAAC;;EAED;EACAf,SAAS,CAAC,MAAM;IACZ,MAAMwC,iBAAiB,GAAGA,CAAA,KAAM;MAC5B,IAAIC,SAAS,CAACC,WAAW,EAAE;QACvBD,SAAS,CAACC,WAAW,CAACC,kBAAkB,CACpC,MAAOC,QAAQ,IAAK;UAChB,MAAM;YAAEhB,QAAQ;YAAEC;UAAU,CAAC,GAAGe,QAAQ,CAACC,MAAM;UAC/C,IAAI;YACA;YACA,MAAMC,eAAe,GAAG,MAAM7C,KAAK,CAAC6B,IAAI,CACpC,wCAAwC,EACxC;cAAEF,QAAQ;cAAEC;YAAU,CAAC,EACvB;cAAEG,OAAO,EAAE;gBAAE,cAAc,EAAE;cAAoC;YAAE,CACvE,CAAC;YACDd,cAAc,CAAC4B,eAAe,CAACnC,IAAI,CAAC;;YAEpC;YACA,MAAMgB,uBAAuB,CAACC,QAAQ,EAAEC,SAAS,CAAC;UACtD,CAAC,CAAC,OAAOkB,GAAG,EAAE;YACV3B,gBAAgB,CAAC,4BAA4B,CAAC;YAC9Ce,OAAO,CAACpB,KAAK,CAAC,YAAY,EAAEgC,GAAG,CAAC;UACpC;QACJ,CAAC,EACAhC,KAAK,IAAK;UACPK,gBAAgB,CAAC,wBAAwB,CAAC;UAC1Ce,OAAO,CAACpB,KAAK,CAAC,oBAAoB,EAAEA,KAAK,CAAC;QAC9C,CACJ,CAAC;MACL,CAAC,MAAM;QACHK,gBAAgB,CAAC,2BAA2B,CAAC;MACjD;IACJ,CAAC;IAEDoB,iBAAiB,CAAC,CAAC;EACvB,CAAC,EAAE,EAAE,CAAC;EAEN,IAAI3B,OAAO,EAAE,oBAAOL,OAAA;IAAAwC,QAAA,EAAK;EAAU;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAK,CAAC;EACzC,IAAIrC,KAAK,EAAE,oBAAOP,OAAA;IAAAwC,QAAA,GAAK,SAAO,EAACjC,KAAK,CAACsC,OAAO;EAAA;IAAAJ,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAM,CAAC;EAEnD,oBACI5C,OAAA,CAACL,MAAM;IAAA6C,QAAA,eACHxC,OAAA;MAAAwC,QAAA,gBACIxC,OAAA;QAAAwC,QAAA,eACIxC,OAAA;UAAAwC,QAAA,eACIxC,OAAA,CAACF,IAAI;YAACgD,EAAE,EAAC,GAAG;YAAAN,QAAA,EAAC;UAAI;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACvB;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACF,CAAC,eAET5C,OAAA,CAACH,MAAM;QAAA2C,QAAA,eACHxC,OAAA,CAACJ,KAAK;UAACmD,IAAI,EAAC,GAAG;UAACC,OAAO,eACnBhD,OAAA;YAAAwC,QAAA,gBACIxC,OAAA;cAAAwC,QAAA,EAAI;YAA6B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,eACtC5C,OAAA;cAAAwC,QAAA,GAAG,oBAAkB,EAACrC,IAAI,aAAJA,IAAI,uBAAJA,IAAI,CAAE0C,OAAO;YAAA;cAAAJ,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC,EAEvCjC,aAAa,gBACVX,OAAA;cAAKiD,KAAK,EAAE;gBAAEC,KAAK,EAAE,KAAK;gBAAEC,SAAS,EAAE;cAAO,CAAE;cAAAX,QAAA,GAAC,kBAC7B,EAAC7B,aAAa;YAAA;cAAA8B,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7B,CAAC,GACNnC,WAAW,gBACXT,OAAA;cAAKiD,KAAK,EAAE;gBAAEE,SAAS,EAAE;cAAO,CAAE;cAAAX,QAAA,gBAC9BxC,OAAA;gBAAAwC,QAAA,EAAI;cAAmB;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC5B5C,OAAA;gBAAAwC,QAAA,EAAMY,IAAI,CAACC,SAAS,CAAC5C,WAAW,EAAE,IAAI,EAAE,CAAC;cAAC;gBAAAgC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAM,CAAC,EAEhD/B,QAAQ,iBACLb,OAAA;gBAAKiD,KAAK,EAAE;kBAAEE,SAAS,EAAE;gBAAO,CAAE;gBAAAX,QAAA,gBAC9BxC,OAAA;kBAAAwC,QAAA,EAAI;gBAAkB;kBAAAC,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC,eAC3B5C,OAAA;kBAAAwC,QAAA,EAAI3B,QAAQ,CAACyC,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAG1C,QAAQ,CAAC2C,KAAK,CAAC,CAAC;gBAAC;kBAAAf,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAI,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5D,CACR;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,gBAEN5C,OAAA;cAAKiD,KAAK,EAAE;gBAAEE,SAAS,EAAE;cAAO,CAAE;cAAAX,QAAA,EAAC;YAEnC;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAK,CACR;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACA;QACR;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAE;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACA,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACF,CAAC;AAEjB;AAAC1C,EAAA,CA/HQD,GAAG;AAAAwD,EAAA,GAAHxD,GAAG;AAiIZ,eAAeA,GAAG;AAAC,IAAAwD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}